{% extends 'base.html' %}
{% block content %}

<style>
.card-test{
  background:#fff;
  border-radius:16px;
  box-shadow:0 8px 24px rgba(15,23,42,0.12);
  padding:20px;
  max-width:700px;
  margin: 20px auto;
}
.row{
  display:flex;
  flex-direction: column;
  gap:16px;
  align-items:center;      /* ðŸ‘ˆ centre horizontalement */
}

.row > div{
  width:100%;
  max-width:360px;         /* ðŸ‘ˆ largeur pro */
}

.input{
  width:100%;
  padding:14px 16px;       /* ðŸ‘ˆ input plus grand */
  border:1px solid #dbe3f2;
  border-radius:12px;
  font-size:16px;
  outline:none;
}

.input:focus{
  border-color:#0b4d9c;
  box-shadow:0 0 0 3px rgba(11,77,156,0.15);
}

.btn{
  margin-top:10px;
  width:20%;
  max-width:360px;
  padding:14px 0;
  border:none;
  border-radius:999px;
  cursor:pointer;
  background:#0b4d9c;
  color:#fff;
  font-size:16px;
  font-weight:600;
}

.badge{
  display:inline-block;
  padding:8px 16px;
  border-radius:999px;
  font-weight:700;
  margin-top:12px;
}
.ok{background:#dcfce7;color:#166534;}
.bad{background:#fee2e2;color:#991b1b;}
</style>

<div class="card-test">
  <h2 style="margin:0 0 14px 0;">Test TempÃ©rature & HumiditÃ©</h2>

  <form method="post">
  {% csrf_token %}
  <div class="row">
    <div>
      <label>Temp (Â°C)</label><br>
      <input class="input" type="number" step="0.1" name="temp" required>
    </div>

    <div>
      <label>Hum (%)</label><br>
      <input class="input" type="number" step="0.1" name="hum" required>
    </div>

    <button class="btn" type="submit">Tester</button>
  </div>
</form>

  {% if result %}
    {% if result.error %}
      <p style="color:red;font-weight:700;margin-top:12px;">{{ result.error }}</p>
    {% else %}
      <p style="margin-top:12px;">
        Temp = <b>{{ result.temp }}</b> Â°C | Hum = <b>{{ result.hum }}</b> %
      </p>

      {% if result.normal %}
        <span class="badge ok">Normal</span>
      {% else %}
        <span class="badge bad">Anormal</span>
      {% endif %}
    {% endif %}
  {% endif %}
</div>

{% endblock content %}
